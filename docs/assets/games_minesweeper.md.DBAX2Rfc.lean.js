import{_ as A,h as c,l as O,c as f,m as u,t as D,F as G,G as R,o as v,n as T,q as U,s as B,a as F}from"./chunks/framework.B3gFn30p.js";const P=d=>(U("data-v-652bb92f"),d=d(),B(),d),L=P(()=>u("h1",{id:"扫雷",tabindex:"-1"},[F("扫雷 "),u("a",{class:"header-anchor",href:"#扫雷","aria-label":'Permalink to "扫雷"'},"​")],-1)),V={class:"game-container"},$={class:"header"},q={class:"mines-left"},z={class:"grid"},J=["onClick","onContextmenu"],Y=JSON.parse('{"title":"扫雷","description":"","frontmatter":{},"headers":[],"relativePath":"games/minesweeper.md","filePath":"games/minesweeper.md","lastUpdated":1736921119000}'),W={name:"games/minesweeper.md"},H=Object.assign(W,{setup(d){const l=c([]),o=c([]),s=c([]),I=c(!1),m=c(!1),p=c(10);function S(){Z(),N(),b(),g(),C()}function Z(){l.value=Array(10).fill().map(()=>Array(10).fill(0))}function g(){o.value=Array(10).fill().map(()=>Array(10).fill(!1))}function C(){s.value=Array(10).fill().map(()=>Array(10).fill(!1))}function N(){let e=0;for(;e<10;){const t=Math.floor(Math.random()*10),n=Math.floor(Math.random()*10);l.value[t][n]!==-1&&(l.value[t][n]=-1,e++)}}function b(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){if(l.value[e][t]===-1)continue;let n=0;for(let a=-1;a<=1;a++)for(let _=-1;_<=1;_++){const r=e+a,i=t+_;r>=0&&r<10&&i>=0&&i<10&&l.value[r][i]===-1&&n++}l.value[e][t]=n}}function h(e,t,n=!1){if(!(I.value||m.value)){if(n){k(e,t);return}if(!s.value[e][t]){if(l.value[e][t]===-1){w(),I.value=!0,alert("游戏结束！");return}E(e,t),y()}}}function k(e,t){o.value[e][t]||(s.value[e][t]=!s.value[e][t],p.value+=s.value[e][t]?-1:1)}function E(e,t){if(!(e<0||e>=10||t<0||t>=10)&&!(o.value[e][t]||s.value[e][t])&&(o.value[e][t]=!0,l.value[e][t]===0))for(let n=-1;n<=1;n++)for(let a=-1;a<=1;a++)E(e+n,t+a)}function w(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)o.value[e][t]=!0}function y(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)if(l.value[e][t]!==-1&&!o.value[e][t])return;m.value=!0,alert("恭喜你赢了！")}function M(){I.value=!1,m.value=!1,p.value=10,S()}function x(e,t){return o.value[e][t]?l.value[e][t]===-1?"💣":l.value[e][t]||"":s.value[e][t]?"🚩":""}return O(()=>{S(),window.addEventListener("contextmenu",e=>e.preventDefault())}),(e,t)=>(v(),f("div",null,[L,u("div",V,[u("div",$,[u("div",q,"剩余地雷："+D(p.value),1),u("button",{onClick:M,class:"reset-button"},"重新开始")]),u("div",z,[(v(!0),f(G,null,R(l.value,(n,a)=>(v(),f("div",{key:a,class:"row"},[(v(!0),f(G,null,R(n,(_,r)=>(v(),f("div",{key:r,class:T(["cell",{revealed:o.value[a][r],mine:o.value[a][r]&&l.value[a][r]===-1}]),onClick:i=>h(a,r),onContextmenu:i=>h(a,r,!0)},D(x(a,r)),43,J))),128))]))),128))])])]))}}),j=A(H,[["__scopeId","data-v-652bb92f"]]);export{Y as __pageData,j as default};
