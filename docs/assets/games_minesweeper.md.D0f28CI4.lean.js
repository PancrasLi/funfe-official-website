import{_ as x,p as i,v as A,c as f,o as v,j as u,a as O,t as D,F as G,B as R,n as B}from"./chunks/framework.CPp4lspA.js";const T={class:"game-container"},U={class:"header"},F={class:"mines-left"},P={class:"grid"},L=["onClick","onContextmenu"],H=JSON.parse('{"title":"扫雷","description":"","frontmatter":{},"headers":[],"relativePath":"games/minesweeper.md","filePath":"games/minesweeper.md","lastUpdated":1736921119000}'),V={name:"games/minesweeper.md"},$=Object.assign(V,{setup(z){const l=i([]),o=i([]),s=i([]),_=i(!1),I=i(!1),m=i(10);function E(){h(),C(),N(),Z(),g()}function h(){l.value=Array(10).fill().map(()=>Array(10).fill(0))}function Z(){o.value=Array(10).fill().map(()=>Array(10).fill(!1))}function g(){s.value=Array(10).fill().map(()=>Array(10).fill(!1))}function C(){let e=0;for(;e<10;){const t=Math.floor(Math.random()*10),n=Math.floor(Math.random()*10);l.value[t][n]!==-1&&(l.value[t][n]=-1,e++)}}function N(){for(let e=0;e<10;e++)for(let t=0;t<10;t++){if(l.value[e][t]===-1)continue;let n=0;for(let a=-1;a<=1;a++)for(let d=-1;d<=1;d++){const r=e+a,c=t+d;r>=0&&r<10&&c>=0&&c<10&&l.value[r][c]===-1&&n++}l.value[e][t]=n}}function S(e,t,n=!1){if(!(_.value||I.value)){if(n){k(e,t);return}if(!s.value[e][t]){if(l.value[e][t]===-1){y(),_.value=!0,alert("游戏结束！");return}p(e,t),M()}}}function k(e,t){o.value[e][t]||(s.value[e][t]=!s.value[e][t],m.value+=s.value[e][t]?-1:1)}function p(e,t){if(!(e<0||e>=10||t<0||t>=10)&&!(o.value[e][t]||s.value[e][t])&&(o.value[e][t]=!0,l.value[e][t]===0))for(let n=-1;n<=1;n++)for(let a=-1;a<=1;a++)p(e+n,t+a)}function y(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)o.value[e][t]=!0}function M(){for(let e=0;e<10;e++)for(let t=0;t<10;t++)if(l.value[e][t]!==-1&&!o.value[e][t])return;I.value=!0,alert("恭喜你赢了！")}function b(){_.value=!1,I.value=!1,m.value=10,E()}function w(e,t){return o.value[e][t]?l.value[e][t]===-1?"💣":l.value[e][t]||"":s.value[e][t]?"🚩":""}return A(()=>{E(),window.addEventListener("contextmenu",e=>e.preventDefault())}),(e,t)=>(v(),f("div",null,[t[0]||(t[0]=u("h1",{id:"扫雷",tabindex:"-1"},[O("扫雷 "),u("a",{class:"header-anchor",href:"#扫雷","aria-label":'Permalink to "扫雷"'},"​")],-1)),u("div",T,[u("div",U,[u("div",F,"剩余地雷："+D(m.value),1),u("button",{onClick:b,class:"reset-button"},"重新开始")]),u("div",P,[(v(!0),f(G,null,R(l.value,(n,a)=>(v(),f("div",{key:a,class:"row"},[(v(!0),f(G,null,R(n,(d,r)=>(v(),f("div",{key:r,class:B(["cell",{revealed:o.value[a][r],mine:o.value[a][r]&&l.value[a][r]===-1}]),onClick:c=>S(a,r),onContextmenu:c=>S(a,r,!0)},D(w(a,r)),43,L))),128))]))),128))])])]))}}),K=x($,[["__scopeId","data-v-652bb92f"]]);export{H as __pageData,K as default};
