# Cursor AI 规则

> **免责声明**：本文档是关于 Cursor AI 规则功能的**第三方非官方中文文档**，仅供学习参考。内容可能不完全反映最新的官方信息，请以 [Cursor 官方文档](https://docs.cursor.com) 为准。所有商标和版权归 Cursor/Anysphere 公司所有。

> 本文档介绍如何在 Cursor 中设置 AI 规则，以便更好地控制和引导 AI 的行为与输出风格。

---

## 什么是 AI 规则？

AI 规则是一组指令，告诉 Cursor 的 AI 如何响应您的查询和请求。通过设置这些规则，您可以指导 AI 以特定的风格、格式或方法来回答问题或生成代码，使其输出更加符合您的期望和项目需求。

## 创建和使用 AI 规则

在 Cursor 中，您可以通过以下方式创建和使用 AI 规则：

### 1. 全局规则设置

全局 AI 规则适用于您与 Cursor AI 的所有交互：

1. 打开 Cursor 设置（⌘ + , 或 Ctrl + ,）
2. 导航至 "AI" 或 "AI 设置" 部分
3. 找到 "AI 规则" 或类似设置
4. 添加您希望 AI 始终遵循的指导原则

### 2. 项目特定规则

对于特定项目或代码库，您可以创建专门的规则：

1. 在项目根目录创建 `.cursor` 文件夹（如果尚不存在）
2. 在该文件夹中创建 `rules.md` 或 `ai-rules.md` 文件
3. 在此文件中定义项目特定的 AI 规则

### 3. 会话级规则

在单个对话或会话中，您可以临时设定规则：

1. 在 Ask 或 Agent 对话开始时，明确声明规则
2. 例如："请在接下来的对话中，生成的所有代码都应当包含详细注释，并遵循 PEP 8 风格指南"

## 规则编写指南

编写有效的 AI 规则时，考虑以下几点：

### 1. 明确具体

使用清晰、具体的指令，避免模糊的表述：

```markdown
✅ 好的规则：
- 生成的所有函数必须包含参数类型注释和返回类型
- 每个函数都应当有描述功能、参数和返回值的文档字符串

❌ 不太有效的规则：
- 写好代码
- 使代码更易读
```

### 2. 设定优先级

当规则可能冲突时，明确指出优先级：

```markdown
# AI 规则优先级
1. 安全性和错误处理优先于性能优化
2. 代码简洁性优先于详尽的文档（当空间有限时）
3. 遵循项目现有的命名惯例，即使与一般最佳实践不同
```

### 3. 提供示例

通过具体示例来说明您期望的风格或模式：

```markdown
# 命名惯例示例
## 类名
使用 PascalCase：`UserAccount`, `PaymentProcessor`

## 函数名
使用 camelCase：`getUserData()`, `validateInput()`

## 常量
使用大写下划线：`MAX_RETRY_COUNT`, `API_BASE_URL`
```

### 4. 指定编码标准

明确您希望 AI 遵循的编码标准或风格指南：

```markdown
# 编码标准
- JavaScript/TypeScript：遵循 Airbnb 风格指南
- Python：遵循 PEP 8 和 Google Python 风格指南
- 所有注释应当使用完整的句子，并以句号结尾
```

## 常见规则示例

以下是一些常见的 AI 规则示例，您可以根据需要进行调整：

### 代码风格规则

```markdown
# 代码风格规则
1. 使用空格而非制表符进行缩进
2. 每个函数不应超过 30 行代码
3. 每行代码不超过 80 个字符
4. 相关函数应分组在一起
5. 导入语句应按标准库、第三方库、本地模块的顺序排列
```

### 文档规则

```markdown
# 文档规则
1. 所有公共 API 函数必须有文档字符串
2. 复杂算法应包含描述其工作原理的注释
3. 在存在多种方案时，注释中应解释为何选择特定实现
4. 任何非显而易见的代码都应有解释性注释
```

### 安全性规则

```markdown
# 安全性规则
1. 永远不要生成明文存储密码或密钥的代码
2. 所有用户输入必须经过验证和清洁
3. 提供针对 SQL 注入、XSS 和 CSRF 的保护
4. 默认使用参数化查询而非字符串拼接处理 SQL
```

### 性能规则

```markdown
# 性能规则
1. 优先考虑时间复杂度而非微优化
2. 对可能大规模增长的数据集，避免 O(n²) 或更高复杂度的算法
3. 考虑内存使用和垃圾收集影响
4. 大型循环内避免频繁内存分配
```

## 规则的组织与维护

随着项目的发展，定期审查和更新您的 AI 规则很重要：

1. **版本控制**：将 AI 规则纳入版本控制，跟踪其变化
2. **团队共享**：确保所有团队成员了解并使用统一的 AI 规则
3. **定期审查**：随着项目的发展和新模式的出现，更新规则
4. **从反馈中学习**：根据 AI 生成的代码质量，调整和改进规则

## 高级应用场景

### 1. 特定于领域的规则

针对特定领域或行业制定规则：

```markdown
# 医疗应用规则
1. 所有与患者数据相关的操作必须记录审计日志
2. 遵循 HIPAA 合规性指南
3. 使用特定的医疗术语字典和标准
```

### 2. 整合项目标准

将现有的团队编码标准整合到 AI 规则中：

```markdown
# 公司编码标准集成
1. 遵循公司版本控制提交消息格式：[类型]: [描述] (#票号)
2. 使用内部组件库而非自定义实现
3. 遵循公司架构模式和依赖注入方法
```

### 3. 学习曲线辅助

利用 AI 规则帮助新团队成员学习：

```markdown
# 新手友好规则
1. 为复杂概念提供更详细的解释
2. 建议阅读的文档和内部资源
3. 生成示例性测试用例来展示代码如何被使用
```

---

通过精心设计和应用 AI 规则，您可以将 Cursor 的 AI 功能塑造成您团队的高效协作伙伴。这些规则不仅提高了 AI 生成的代码质量和一致性，还确保了其输出符合项目的特定需求和标准。

如有任何问题，请参考[常见问题解答](/cursor-faq)或访问[社区论坛](https://forum.cursor.com)寻求帮助。 
