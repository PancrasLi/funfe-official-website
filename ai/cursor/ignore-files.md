# Cursor 忽略文件

> **免责声明**：本文档是关于 Cursor 忽略文件功能的**第三方非官方中文文档**，仅供学习参考。内容可能不完全反映最新的官方信息，请以 [Cursor 官方文档](https://docs.cursor.com) 为准。所有商标和版权归 Cursor/Anysphere 公司所有。

> 本文档介绍如何在 Cursor 中设置忽略文件，以便排除不需要被 AI 处理或索引的文件和目录。

---

## 什么是忽略文件？

在 Cursor 中，忽略文件功能允许您指定哪些文件和目录应被排除在 AI 处理和代码库索引之外。这个功能对于改善 AI 性能、确保隐私以及优化资源使用非常重要。

通过正确配置忽略文件，您可以：

1. 将 AI 注意力集中在相关代码上
2. 排除大型生成文件、二进制文件和其他不相关资源
3. 保护敏感信息不被包含在 AI 上下文中
4. 提高索引速度和准确性

## 忽略文件的配置方式

Cursor 提供了多种方式来指定应忽略的文件和目录：

### 1. 使用 .gitignore

Cursor 默认遵循项目中的 `.gitignore` 文件规则。这意味着被 Git 忽略的文件和目录也会被 Cursor 的 AI 功能忽略。这包括：

- 项目根目录的 `.gitignore`
- 子目录中的 `.gitignore`
- 全局 Git 忽略规则

### 2. 使用 .cursorignore

除了 `.gitignore`，您还可以创建一个专门的 `.cursorignore` 文件，以指定仅针对 Cursor 的忽略规则。这在以下情况特别有用：

- 您希望 AI 忽略某些受版本控制的文件
- 您需要针对 Cursor 的特定忽略规则
- 团队成员有不同的 AI 上下文需求

`.cursorignore` 文件应放置在项目根目录，使用与 `.gitignore` 相同的模式语法。

### 3. 通过设置界面

Cursor 还提供了通过设置界面配置忽略规则的选项：

1. 打开 Cursor 设置（⌘ + , 或 Ctrl + ,）
2. 导航至 "功能" > "代码库索引"
3. 展开 "显示设置" 部分
4. 配置 "忽略文件" 选项

## 忽略模式语法

忽略文件使用与 `.gitignore` 相同的模式语法：

### 基本模式

- `file.txt` - 忽略所有名为 file.txt 的文件
- `*.log` - 忽略所有 .log 文件
- `build/` - 忽略名为 build 的目录及其所有内容

### 目录指定

- `/node_modules` - 仅忽略根目录下的 node_modules 目录
- `node_modules/` - 忽略任何位置的 node_modules 目录

### 通配符

- `*` - 匹配除斜杠外的任何字符序列
- `?` - 匹配任何单个字符
- `**` - 匹配任何目录深度

### 取消忽略

使用 `!` 前缀可以取消对匹配模式的忽略：

```
*.log        # 忽略所有 .log 文件
!important.log   # 但不忽略 important.log
```

## 常见忽略模式

以下是一些常见和推荐的忽略模式，可以帮助优化 Cursor 的 AI 功能：

### 1. 构建输出和缓存

```
# 构建目录
/build/
/dist/
/out/
/.next/
/.nuxt/
/.output/

# 缓存目录
/.cache/
/.parcel-cache/
/.eslintcache
/.npm/
```

### 2. 依赖项和模块

```
# 依赖目录
/node_modules/
/.pnp/
/.pnp.js
/vendor/
/.yarn/

# Python 虚拟环境
/venv/
/.env/
/.virtualenv/
```

### 3. 大型数据文件

```
# 数据文件
*.csv
*.dat
*.db
*.sqlite
/data/large_data_files/

# 媒体文件
*.mp4
*.mp3
*.mov
*.avi
/assets/videos/
```

### 4. 日志和临时文件

```
# 日志文件
*.log
/logs/
/log/

# 临时文件
*.tmp
*.temp
.DS_Store
Thumbs.db
```

### 5. 敏感信息

```
# 敏感配置和密钥
.env
.env.local
*.pem
*.key
/config/secrets/
```

## 分层忽略策略

在大型或复杂项目中，建议使用分层忽略策略：

### 1. 项目级忽略

在项目根目录的 `.cursorignore` 中包含适用于整个项目的规则：

```
# 项目级 .cursorignore
/node_modules/
/build/
/dist/
*.log
```

### 2. 目录级忽略

在特定子目录中添加额外的 `.gitignore` 文件，处理该目录特有的忽略需求：

```
# /src/experimental/.gitignore
# 忽略实验性功能目录中的所有草稿文件
*-draft.*
/prototype/
```

### 3. 个人开发者规则

对于不应提交到版本控制的个人偏好，可以使用全局 Git 配置或本地 `.cursorignore`。

## 检查忽略状态

要确认某个文件是否被忽略，您可以：

1. 查看代码库索引状态，注意是否有文件被跳过
2. 检查代码库搜索和 AI 功能中是否包含特定文件
3. 或者参考 Git 忽略检查命令（如 `git check-ignore`）

## 忽略文件的最佳实践

### 1. 保持忽略规则最新

随着项目发展，定期审查和更新忽略规则：

- 添加新的构建输出目录
- 更新随着新工具引入的模式
- 移除不再相关的忽略规则

### 2. 平衡范围与精度

忽略规则应该足够广泛以排除无关文件，但又不至于过度排除有用信息：

- 避免过于宽泛的模式（如 `src/**/test/`）
- 优先使用精确的目录路径而非全局模式
- 考虑使用取消忽略模式来包含重要的特例

### 3. 团队协作

在团队设置中：

- 在项目文档中记录忽略策略
- 讨论并统一核心忽略规则
- 允许开发者有个人的辅助规则

### 4. 忽略规则调试

当 AI 无法访问您认为应该可用的文件时：

- 检查所有适用的忽略文件
- 查找可能过于宽泛的模式
- 考虑使用取消忽略模式（`!`）

---

通过精心配置忽略文件设置，您可以显著提高 Cursor 的 AI 功能性能和相关性。这种投入最终会通过更加准确的代码建议、更快的索引速度和更相关的 AI 辅助来回报您。

如有任何问题，请参考[常见问题解答](/cursor-faq)或访问[社区论坛](https://forum.cursor.com)寻求帮助。 
