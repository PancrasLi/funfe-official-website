import{_ as S,p as u,v as D,c as I,j as t,a as h,t as x,ah as C,ai as A,o as E}from"./chunks/framework.q0coUhEw.js";const F={class:"game-container"},O={class:"game-header"},R={class:"score-board"},B={class:"score-value"},L={class:"speed-control"},N={class:"controls"},U=["disabled"],T=JSON.parse('{"title":"贪吃蛇","description":"","frontmatter":{},"headers":[],"relativePath":"games/snake.md","filePath":"games/snake.md","lastUpdated":1737364282000}'),V={name:"games/snake.md"},j=Object.assign(V,{setup(G){const s=u(null),l=u(null),n=u([{x:10,y:10}]),i=u({x:15,y:15}),v=u("right"),r=u(null),c=u(0),d=u(150);function k(){l.value=s.value.getContext("2d"),document.addEventListener("keydown",M),p(),y()}function w(){r.value||(r.value=setInterval(m,d.value))}function m(){l.value.clearRect(0,0,s.value.width,s.value.height),_(),P(),y(),p()}function _(){const e={...n.value[0]};switch(v.value){case"up":e.y--;break;case"down":e.y++;break;case"left":e.x--;break;case"right":e.x++;break}n.value.unshift(e),e.x===i.value.x&&e.y===i.value.y?(c.value+=10,g()):n.value.pop()}function p(){n.value.forEach((e,a)=>{if(a===0){l.value.fillStyle="#2E7D32",l.value.beginPath(),l.value.roundRect(e.x*20,e.y*20,18,18,5),l.value.fill(),l.value.fillStyle="white";const o=v.value==="left"?-2:2;l.value.beginPath(),l.value.arc(e.x*20+12+o,e.y*20+6,2,0,Math.PI*2),l.value.arc(e.x*20+12+o,e.y*20+12,2,0,Math.PI*2),l.value.fill()}else{const o=1-a/n.value.length*.6;l.value.fillStyle=`rgba(76, 175, 80, ${o})`,l.value.beginPath(),l.value.roundRect(e.x*20,e.y*20,18,18,5),l.value.fill()}})}function y(){l.value.fillStyle="#FF5252",l.value.beginPath(),l.value.arc(i.value.x*20+9,i.value.y*20+9,8,0,Math.PI*2),l.value.fill(),l.value.fillStyle="rgba(255, 255, 255, 0.4)",l.value.beginPath(),l.value.arc(i.value.x*20+7,i.value.y*20+7,3,0,Math.PI*2),l.value.fill()}function g(){i.value={x:Math.floor(Math.random()*(s.value.width/20)),y:Math.floor(Math.random()*(s.value.height/20))}}function M(e){e.preventDefault();const o={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"}[e.key];if(!o)return;({up:"down",down:"up",left:"right",right:"left"})[o]!==v.value&&(v.value=o)}function P(){const e=n.value[0];(e.x<0||e.x>=s.value.width/20||e.y<0||e.y>=s.value.height/20)&&b();for(let a=1;a<n.value.length;a++)e.x===n.value[a].x&&e.y===n.value[a].y&&b()}function b(){clearInterval(r.value),r.value=null,alert(`游戏结束！得分：${c.value}`),f()}function f(){n.value=[{x:10,y:10}],v.value="right",c.value=0,g()}return D(()=>{k()}),(e,a)=>(E(),I("div",null,[a[7]||(a[7]=t("h1",{id:"贪吃蛇",tabindex:"-1"},[h("贪吃蛇 "),t("a",{class:"header-anchor",href:"#贪吃蛇","aria-label":'Permalink to "贪吃蛇"'},"​")],-1)),t("div",F,[t("div",O,[t("div",R,[a[1]||(a[1]=t("span",{class:"score-label"},"得分",-1)),t("span",B,x(c.value),1)]),t("div",L,[a[3]||(a[3]=t("label",null,"速度：",-1)),C(t("select",{"onUpdate:modelValue":a[0]||(a[0]=o=>d.value=o),onChange:f},a[2]||(a[2]=[t("option",{value:200},"🐌 慢速",-1),t("option",{value:150},"🚶 中速",-1),t("option",{value:100},"🏃 快速",-1),t("option",{value:50},"⚡ 极速",-1)]),544),[[A,d.value]])])]),t("canvas",{ref_key:"canvas",ref:s,width:"600",height:"400",class:"game-canvas"},null,512),t("div",N,[t("button",{onClick:w,class:"start-btn",disabled:r.value},[a[4]||(a[4]=t("span",{class:"btn-icon"},"▶️",-1)),h(" "+x(r.value?"游戏进行中":"开始游戏"),1)],8,U),t("button",{onClick:f,class:"reset-btn"},a[5]||(a[5]=[t("span",{class:"btn-icon"},"🔄",-1),h(" 重新开始 ")]))]),a[6]||(a[6]=t("div",{class:"game-tips"},[t("p",null,"使用键盘方向键控制蛇的移动 ⬆️ ⬇️ ⬅️ ➡️")],-1))])]))}}),q=S(j,[["__scopeId","data-v-9781fb18"]]);export{T as __pageData,q as default};
