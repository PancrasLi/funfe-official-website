import{p as v,h as P,c as r,o,j as t,ah as V,e as h,aj as U,t as f,F as q,B as z,N as Q,n as _,_ as W,q as I,a as X,ai as Y,b as Z}from"./chunks/framework.DR0w2vtD.js";const K={class:"json-viewer"},ee={class:"json-toolbar"},te={class:"search-box"},se={key:0,class:"match-count"},le=["onClick"],ae={key:1,class:"toggle-placeholder"},ne={key:0,class:"json-key"},oe={__name:"JsonViewer",props:{value:{type:[Object,Array],required:!0},indent:{type:Number,default:2}},setup(T){const d=T,a=v(""),i=v(0),u=v(0),m=v(null),c=v(new Set(["root"])),k=P(()=>{const e=[],n=(s,g=null,x="root",O=0,A=!0)=>{const D=s&&typeof s=="object",M=Array.isArray(s),B=c.value.has(x);if(D){const F=Object.entries(s),E=M?"[":"{",R=M?"]":"}";e.push({indent:O,key:g,value:E,collapsible:!0,expanded:B,path:x,valueClass:"json-bracket"}),B&&F.forEach(([L,H],G)=>{n(H,L,`${x}.${L}`,O+1,G===F.length-1)}),e.push({indent:O,value:R+(A?"":","),valueClass:"json-bracket"})}else e.push({indent:O,key:g,value:p(s)+(A?"":","),valueClass:l(s)})};return n(d.value),e}),S=()=>{if(!a.value){u.value=0,i.value=0;return}const e=k.value.filter(n=>{var s;return(s=n.value)==null?void 0:s.toString().toLowerCase().includes(a.value.toLowerCase())});u.value=e.length,j()},j=()=>{if(u.value===0)return;const e=m.value.querySelectorAll(".highlight");e[i.value]&&e[i.value].scrollIntoView({behavior:"smooth",block:"center"})},w=()=>{i.value<u.value-1?i.value++:i.value=0,j()},y=()=>{i.value>0?i.value--:i.value=u.value-1,j()},N=e=>{c.value.has(e.path)?c.value.delete(e.path):c.value.add(e.path)},J=()=>{const e=C(d.value);c.value=new Set(e)},$=()=>{c.value=new Set(["root"])};function C(e,n="root",s=[]){return s.push(n),e&&typeof e=="object"&&Object.keys(e).forEach(g=>{C(e[g],`${n}.${g}`,s)}),s}function p(e){return typeof e=="string"?`"${e}"`:e===null?"null":String(e)}function l(e){return e===null?"json-null":typeof e=="string"?"json-string":typeof e=="number"?"json-number":typeof e=="boolean"?"json-boolean":""}function b(e){var n;return a.value&&((n=e.value)==null?void 0:n.toString().toLowerCase().includes(a.value.toLowerCase()))}return(e,n)=>(o(),r("div",K,[t("div",ee,[t("div",te,[V(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>a.value=s),placeholder:"æœç´¢...",onInput:S},null,544),[[U,a.value]]),u.value>0?(o(),r("span",se,f(i.value+1)+"/"+f(u.value),1)):h("",!0),a.value?(o(),r("button",{key:1,class:"nav-btn",onClick:y,title:"ä¸Šä¸€ä¸ª"},"â†‘")):h("",!0),a.value?(o(),r("button",{key:2,class:"nav-btn",onClick:w,title:"ä¸‹ä¸€ä¸ª"},"â†“")):h("",!0)]),t("div",{class:"actions"},[t("button",{onClick:J,title:"å±•å¼€å…¨éƒ¨"},n[1]||(n[1]=[t("span",{class:"icon"},"âŠ",-1)])),t("button",{onClick:$,title:"æŠ˜å å…¨éƒ¨"},n[2]||(n[2]=[t("span",{class:"icon"},"âŠŸ",-1)]))])]),t("div",{class:"json-content",ref_key:"contentRef",ref:m},[(o(!0),r(q,null,z(k.value,(s,g)=>(o(),r("div",{key:g,class:"json-line"},[s.collapsible?(o(),r("span",{key:0,class:"toggle",onClick:x=>N(s)},f(s.expanded?"â–¼":"â–¶"),9,le)):(o(),r("span",ae)),t("span",{class:_(["line-content",{highlight:b(s),collapsed:!s.expanded&&s.collapsible}]),style:Q({paddingLeft:s.indent*20+"px"})},[s.key?(o(),r("span",ne,'"'+f(s.key)+'":',1)):h("",!0),t("span",{class:_(s.valueClass)},f(s.value),3)],6)]))),128))],512)]))}},ue={class:"tool-header"},re={class:"mode-switch"},ie=["onClick"],ce={key:0,class:"tool-options"},ve={class:"tool-actions"},de={class:"tool-body"},pe={class:"input-panel"},fe={key:0,class:"error-message"},he={class:"output-panel"},me={class:"panel-header"},ye=["value","placeholder"],ke=JSON.parse('{"title":"JSON æ ¼å¼åŒ–å·¥å…·","description":"åœ¨çº¿JSONæ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒJSONç¾åŒ–ã€å‹ç¼©ã€æ ¡éªŒç­‰åŠŸèƒ½","frontmatter":{"title":"JSON æ ¼å¼åŒ–å·¥å…·","description":"åœ¨çº¿JSONæ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒJSONç¾åŒ–ã€å‹ç¼©ã€æ ¡éªŒç­‰åŠŸèƒ½"},"headers":[],"relativePath":"tools/encoding/json.md","filePath":"tools/encoding/json.md","lastUpdated":1739271557000}'),be={name:"tools/encoding/json.md"},ge=Object.assign(be,{setup(T){const d=v(""),a=v(null),i=v(2),u=v("format"),m=v(!1),c=v(""),k=P(()=>a.value?u.value==="format"?JSON.stringify(a.value,null,Number(i.value)):u.value==="compress"?JSON.stringify(a.value):"âˆš JSON æ ¼å¼æ­£ç¡®":"");I(d,p=>{p.trim()?S():(a.value=null,c.value="")},{debounce:300}),I(u,()=>{d.value.trim()&&S()});const S=()=>{try{a.value=JSON.parse(d.value),c.value=""}catch(p){c.value=p.message,a.value=null}},j=async()=>{try{await navigator.clipboard.writeText(k.value),N("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch{N("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶","error")}},w=()=>{d.value="",a.value=null,c.value=""},y=v({show:!1,message:"",type:"success"}),N=(p,l="success")=>{y.value={show:!0,message:p,type:l},setTimeout(()=>{y.value.show=!1},3e3)},J={name:"JSONç¤ºä¾‹",type:"object",properties:{string:"è¿™æ˜¯å­—ç¬¦ä¸²",number:123,boolean:!0,array:[1,2,3],object:{key:"value"}}},$=()=>{d.value=JSON.stringify(J),S()},C=()=>{m.value=!m.value};return(p,l)=>(o(),r("div",null,[l[7]||(l[7]=t("h1",{id:"json-æ ¼å¼åŒ–å·¥å…·",tabindex:"-1"},[X("JSON æ ¼å¼åŒ–å·¥å…· "),t("a",{class:"header-anchor",href:"#json-æ ¼å¼åŒ–å·¥å…·","aria-label":'Permalink to "JSON æ ¼å¼åŒ–å·¥å…·"'},"â€‹")],-1)),t("div",{class:_(["json-tool",{"is-fullscreen":m.value}])},[t("div",ue,[t("div",re,[(o(),r(q,null,z({format:"æ ¼å¼åŒ–",compress:"å‹ç¼©",validate:"æ ¡éªŒ"},(b,e)=>t("button",{key:e,class:_({active:u.value===e}),onClick:n=>u.value=e},f(b),11,ie)),64))]),u.value==="format"?(o(),r("div",ce,[l[3]||(l[3]=t("label",null,"ç¼©è¿›ï¼š",-1)),V(t("select",{"onUpdate:modelValue":l[0]||(l[0]=b=>i.value=b)},l[2]||(l[2]=[t("option",{value:"2"},"2 ç©ºæ ¼",-1),t("option",{value:"4"},"4 ç©ºæ ¼",-1),t("option",{value:"8"},"8 ç©ºæ ¼",-1)]),512),[[Y,i.value]])])):h("",!0),t("div",ve,[t("button",{onClick:w,class:"clear-btn",title:"æ¸…ç©º"},l[4]||(l[4]=[t("span",{class:"icon"},"ğŸ—‘ï¸",-1)])),t("button",{onClick:C,class:"fullscreen-btn"},f(m.value?"é€€å‡ºå…¨å±":"å…¨å±"),1)])]),t("div",de,[t("div",pe,[t("div",{class:"panel-header"},[l[5]||(l[5]=t("h3",null,"è¾“å…¥ JSON",-1)),t("button",{class:"sample-btn",onClick:$},"åŠ è½½ç¤ºä¾‹")]),V(t("textarea",{"onUpdate:modelValue":l[1]||(l[1]=b=>d.value=b),placeholder:"è¯·è¾“å…¥ JSON å­—ç¬¦ä¸²...",class:_(["json-input",{"has-error":c.value}])},null,2),[[U,d.value]]),c.value?(o(),r("div",fe," âŒ "+f(c.value),1)):h("",!0)]),t("div",he,[t("div",me,[l[6]||(l[6]=t("h3",null,"è¾“å‡ºç»“æœ",-1)),a.value?(o(),r("button",{key:0,class:"copy-btn",onClick:j,title:"å¤åˆ¶åˆ°å‰ªè´´æ¿"}," ğŸ“‹ å¤åˆ¶ ")):h("",!0)]),u.value==="format"&&a.value?(o(),Z(oe,{key:0,value:a.value,indent:Number(i.value)},null,8,["value","indent"])):(o(),r("textarea",{key:1,value:k.value,readonly:"",class:"json-output",placeholder:u.value==="validate"?"éªŒè¯ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ":"è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ"},null,8,ye))])]),y.value.show?(o(),r("div",{key:0,class:_(["toast-message",y.value.type])},f(y.value.message),3)):h("",!0)],2)]))}}),Se=W(ge,[["__scopeId","data-v-3d98750e"]]);export{ke as __pageData,Se as default};
