import{_ as k,p as l,v as r,c as v,o as E,ag as e,j as a,n as i,a as b}from"./chunks/framework.CPp4lspA.js";const o={class:"demo-box"},g={class:"object-demo"},y={class:"creation-methods"},c={class:"demo-box"},F={class:"properties-demo"},u={class:"property-types"},C={class:"demo-box"},m={class:"prototype-chain"},B={class:"demo-box"},A={class:"class-demo"},P=JSON.parse('{"title":"对象、类与面向对象编程","description":"","frontmatter":{},"headers":[],"relativePath":"class/js/8.md","filePath":"class/js/8.md","lastUpdated":1739268936000}'),_={name:"class/js/8.md"},f=Object.assign(_,{setup(D){const t=l(0),d=l(0),n=l(0),h=l(!0);function p(){h.value&&(setInterval(()=>{t.value=(t.value+1)%3},3e3),setInterval(()=>{d.value=(d.value+1)%3},4e3),setInterval(()=>{n.value=(n.value+1)%2},5e3))}return r(()=>{p()}),(S,s)=>(E(),v("div",null,[s[13]||(s[13]=e('<h1 id="对象、类与面向对象编程" tabindex="-1" data-v-39d34bb3>对象、类与面向对象编程 <a class="header-anchor" href="#对象、类与面向对象编程" aria-label="Permalink to &quot;对象、类与面向对象编程&quot;" data-v-39d34bb3>​</a></h1><h2 id="理解对象" tabindex="-1" data-v-39d34bb3>理解对象 <a class="header-anchor" href="#理解对象" aria-label="Permalink to &quot;理解对象&quot;" data-v-39d34bb3>​</a></h2><h3 id="_1-对象的创建方式" tabindex="-1" data-v-39d34bb3>1. 对象的创建方式 <a class="header-anchor" href="#_1-对象的创建方式" aria-label="Permalink to &quot;1. 对象的创建方式&quot;" data-v-39d34bb3>​</a></h3>',3)),a("div",o,[a("div",g,[a("div",y,[a("div",{class:i(["method",{active:t.value===0}])},s[0]||(s[0]=[a("div",{class:"method-title"},"字面量语法",-1),a("pre",null,[a("code",null,`let person = {
  name: 'John',
  age: 30
};`)],-1)]),2),a("div",{class:i(["method",{active:t.value===1}])},s[1]||(s[1]=[a("div",{class:"method-title"},"构造函数",-1),a("pre",null,[a("code",null,`function Person(name, age) {
  this.name = name;
  this.age = age;
}`)],-1)]),2),a("div",{class:i(["method",{active:t.value===2}])},s[2]||(s[2]=[a("div",{class:"method-title"},"Object.create()",-1),a("pre",null,[a("code",null,`let person = Object.create(null);
person.name = 'John';
person.age = 30;`)],-1)]),2)])])]),s[14]||(s[14]=a("h3",{id:"_2-属性特性",tabindex:"-1"},[b("2. 属性特性 "),a("a",{class:"header-anchor",href:"#_2-属性特性","aria-label":'Permalink to "2. 属性特性"'},"​")],-1)),a("div",c,[a("div",F,[a("div",u,[a("div",{class:i(["property-type",{highlight:t.value===1}])},s[3]||(s[3]=[a("h4",null,"数据属性",-1),a("ul",null,[a("li",null,"[[Configurable]]"),a("li",null,"[[Enumerable]]"),a("li",null,"[[Writable]]"),a("li",null,"[[Value]]")],-1)]),2),a("div",{class:i(["property-type",{highlight:t.value===2}])},s[4]||(s[4]=[a("h4",null,"访问器属性",-1),a("ul",null,[a("li",null,"[[Configurable]]"),a("li",null,"[[Enumerable]]"),a("li",null,"[[Get]]"),a("li",null,"[[Set]]")],-1)]),2)])])]),s[15]||(s[15]=a("h2",{id:"原型与继承",tabindex:"-1"},[b("原型与继承 "),a("a",{class:"header-anchor",href:"#原型与继承","aria-label":'Permalink to "原型与继承"'},"​")],-1)),s[16]||(s[16]=a("h3",{id:"_1-原型链",tabindex:"-1"},[b("1. 原型链 "),a("a",{class:"header-anchor",href:"#_1-原型链","aria-label":'Permalink to "1. 原型链"'},"​")],-1)),a("div",C,[a("div",m,[a("div",{class:i(["chain-node",{active:d.value>=0}])},s[5]||(s[5]=[a("div",{class:"node-title"},"实例对象",-1),a("div",{class:"node-content"},[a("pre",null,[a("code",null,`person
name: 'John'
age: 30`)])],-1)]),2),s[8]||(s[8]=a("div",{class:"chain-arrow"},"↓",-1)),a("div",{class:i(["chain-node",{active:d.value>=1}])},s[6]||(s[6]=[a("div",{class:"node-title"},"Person.prototype",-1),a("div",{class:"node-content"},[a("pre",null,[a("code",null,`constructor: Person
sayHello()`)])],-1)]),2),s[9]||(s[9]=a("div",{class:"chain-arrow"},"↓",-1)),a("div",{class:i(["chain-node",{active:d.value>=2}])},s[7]||(s[7]=[a("div",{class:"node-title"},"Object.prototype",-1),a("div",{class:"node-content"},[a("pre",null,[a("code",null,`toString()
valueOf()`)])],-1)]),2)])]),s[17]||(s[17]=a("h3",{id:"_2-类的实现",tabindex:"-1"},[b("2. 类的实现 "),a("a",{class:"header-anchor",href:"#_2-类的实现","aria-label":'Permalink to "2. 类的实现"'},"​")],-1)),a("div",B,[a("div",A,[a("div",{class:i(["class-definition",{active:n.value>=0}])},s[10]||(s[10]=[a("div",{class:"class-title"},"基类定义",-1),a("pre",null,[a("code",null,`class Person {
  constructor(name) {
    this.name = name;
  }
  sayHello() {
    console.log(\`Hello, I'm \${this.name}\`);
  }
}`)],-1)]),2),s[12]||(s[12]=a("div",{class:"inheritance-arrow"},"↓",-1)),a("div",{class:i(["class-definition",{active:n.value>=1}])},s[11]||(s[11]=[a("div",{class:"class-title"},"派生类定义",-1),a("pre",null,[a("code",null,`class Employee extends Person {
  constructor(name, role) {
    super(name);
    this.role = role;
  }
  work() {
    console.log(\`\${this.name} is working as \${this.role}\`);
  }
}`)],-1)]),2)])]),s[18]||(s[18]=e(`<h2 id="实际应用示例" tabindex="-1" data-v-39d34bb3>实际应用示例 <a class="header-anchor" href="#实际应用示例" aria-label="Permalink to &quot;实际应用示例&quot;" data-v-39d34bb3>​</a></h2><h3 id="_1-组件系统" tabindex="-1" data-v-39d34bb3>1. 组件系统 <a class="header-anchor" href="#_1-组件系统" aria-label="Permalink to &quot;1. 组件系统&quot;" data-v-39d34bb3>​</a></h3><div class="language-javascript vp-adaptive-theme" data-v-39d34bb3><button title="Copy Code" class="copy" data-v-39d34bb3></button><span class="lang" data-v-39d34bb3>javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-39d34bb3><code data-v-39d34bb3><span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3> Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {}) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.props </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> props;</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {};</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>newState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.state, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>newState };</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>();</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>() {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>        throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>&#39;Render method must be implemented&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>);</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>}</span></span>
<span class="line" data-v-39d34bb3></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3> Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3> Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(props);</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> { clicked: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> };</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>() {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3> \`</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>            &lt;button onclick=&quot;this.handleClick()&quot;&gt;</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>                Clicked \${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>clicked</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>} times</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>            &lt;/button&gt;</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-39d34bb3>        \`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>;</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    handleClick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>() {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>({ clicked: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.state.clicked </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> });</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>}</span></span></code></pre></div><h3 id="_2-状态管理" tabindex="-1" data-v-39d34bb3>2. 状态管理 <a class="header-anchor" href="#_2-状态管理" aria-label="Permalink to &quot;2. 状态管理&quot;" data-v-39d34bb3>​</a></h3><div class="language-javascript vp-adaptive-theme" data-v-39d34bb3><button title="Copy Code" class="copy" data-v-39d34bb3></button><span class="lang" data-v-39d34bb3>javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-39d34bb3><code data-v-39d34bb3><span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3> Store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>    #state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {};</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>    #listeners</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3> Set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>();</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>initialState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> {}) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> initialState;</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    getState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>() {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#state };</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>newState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#state, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>newState };</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>#notifyListeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>();</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>    subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-39d34bb3>listener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#listeners.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(listener);</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#listeners.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(listener);</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    </span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>notifyListeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>() {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3> listener</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-39d34bb3> of</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#listeners) {</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-39d34bb3>            listener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-39d34bb3>this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>.#state);</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>        }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>    }</span></span>
<span class="line" data-v-39d34bb3><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-39d34bb3>}</span></span></code></pre></div><h2 id="最佳实践" tabindex="-1" data-v-39d34bb3>最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;" data-v-39d34bb3>​</a></h2><ol data-v-39d34bb3><li data-v-39d34bb3><p data-v-39d34bb3>类的设计原则</p><ul data-v-39d34bb3><li data-v-39d34bb3>单一职责原则</li><li data-v-39d34bb3>开放封闭原则</li><li data-v-39d34bb3>里氏替换原则</li><li data-v-39d34bb3>接口隔离原则</li><li data-v-39d34bb3>依赖倒置原则</li></ul></li><li data-v-39d34bb3><p data-v-39d34bb3>性能优化</p><ul data-v-39d34bb3><li data-v-39d34bb3>避免深层原型链</li><li data-v-39d34bb3>合理使用私有字段</li><li data-v-39d34bb3>使用工厂模式创建对象</li></ul></li><li data-v-39d34bb3><p data-v-39d34bb3>代码组织</p><ul data-v-39d34bb3><li data-v-39d34bb3>模块化设计</li><li data-v-39d34bb3>合理的继承层次</li><li data-v-39d34bb3>清晰的接口定义</li></ul></li></ol><div class="tip custom-block" data-v-39d34bb3><p class="custom-block-title" data-v-39d34bb3>编码建议</p><ul data-v-39d34bb3><li data-v-39d34bb3>优先使用类语法而不是原型继承</li><li data-v-39d34bb3>使用私有字段保护数据</li><li data-v-39d34bb3>合理使用静态方法</li><li data-v-39d34bb3>避免过度继承</li></ul></div><h2 id="练习题" tabindex="-1" data-v-39d34bb3>练习题 <a class="header-anchor" href="#练习题" aria-label="Permalink to &quot;练习题&quot;" data-v-39d34bb3>​</a></h2><ol data-v-39d34bb3><li data-v-39d34bb3>实现一个带有私有属性的计数器类。</li><li data-v-39d34bb3>创建一个简单的事件发布订阅系统。</li><li data-v-39d34bb3>实现一个支持链式调用的 DOM 操作类。</li><li data-v-39d34bb3>设计一个基于类的动画系统。</li></ol><h2 id="扩展阅读" tabindex="-1" data-v-39d34bb3>扩展阅读 <a class="header-anchor" href="#扩展阅读" aria-label="Permalink to &quot;扩展阅读&quot;" data-v-39d34bb3>​</a></h2><ul data-v-39d34bb3><li data-v-39d34bb3><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener noreferrer" data-v-39d34bb3>类 - MDN</a></li><li data-v-39d34bb3><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes" target="_blank" rel="noopener noreferrer" data-v-39d34bb3>对象原型 - MDN</a></li><li data-v-39d34bb3><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" target="_blank" rel="noopener noreferrer" data-v-39d34bb3>继承与原型链 - MDN</a></li></ul>`,12))]))}}),q=k(f,[["__scopeId","data-v-39d34bb3"]]);export{P as __pageData,q as default};
