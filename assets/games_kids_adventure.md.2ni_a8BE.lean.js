import{_ as T,h as v,k as B,l as L,c as i,m as t,t as r,F as x,G as C,e as z,n as E,o as u,Q as M,q as N,s as V}from"./chunks/framework.Roe_i2vO.js";const D=h=>(N("data-v-35907f40"),h=h(),V(),h),F={class:"kids-adventure-container"},O={class:"game-header"},j={class:"game-content"},q={class:"maze"},G={class:"controls"},H={class:"command-buttons"},J=["disabled"],Q=["disabled"],R=["disabled"],U={class:"command-list"},X=D(()=>t("h3",null,"命令列表：",-1)),Y={class:"commands"},A={class:"action-buttons"},K=["disabled"],W={key:0,class:"hint-text"},se=JSON.parse('{"title":"迷宫冒险","description":"通过简单的编程指令，帮助小英雄走出迷宫","frontmatter":{"title":"迷宫冒险","description":"通过简单的编程指令，帮助小英雄走出迷宫"},"headers":[],"relativePath":"games/kids/adventure.md","filePath":"games/kids/adventure.md","lastUpdated":1736820573000}'),Z={name:"games/kids/adventure.md"},ee=Object.assign(Z,{setup(h){const m=v(0),_=v([]),o=v(!1),f=v(!1),b=v(!1),w=v(""),p=[{title:"简单路径",map:[["S",".",".","."],["#","#",".","#"],[".",".",".","#"],["#","#",".","E"]],solution:["前进","前进","右转","前进","前进"],hint:"先向前走，到达转角后向右转"},{title:"寻找宝藏",map:[["S",".","#","."],[".","#",".","#"],[".",".",".","E"],["#","#","#","#"]],solution:["前进","右转","前进","左转","前进","前进"],hint:"需要转弯两次才能到达终点"}],e=v({x:0,y:0,direction:0}),d=B(()=>p[m.value].map),k=()=>{_.value=[],o.value=!1;for(let a=0;a<d.value.length;a++)for(let s=0;s<d.value[a].length;s++)if(d.value[a][s]==="S"){e.value={x:s,y:a,direction:0};break}},g=a=>{o.value||_.value.push(a)},$=async()=>{if(!o.value){o.value=!0;for(const a of _.value)await I(a),await new Promise(s=>setTimeout(s,500));P(),o.value=!1}},I=async a=>{if(a==="前进"){const s=[1,0,-1,0],n=[0,1,0,-1],l=e.value.x+s[e.value.direction],c=e.value.y+n[e.value.direction];l>=0&&l<d.value[0].length&&c>=0&&c<d.value.length&&d.value[c][l]!=="#"&&(e.value.x=l,e.value.y=c)}else a==="左转"?e.value.direction=(e.value.direction+3)%4:a==="右转"&&(e.value.direction=(e.value.direction+1)%4)},P=()=>{d.value[e.value.y][e.value.x]==="E"?(S("太棒了！你到达了终点！"),m.value<p.length-1&&setTimeout(()=>{m.value++,k()},1e3)):S("没有到达终点，再试试看！")},S=a=>{w.value=a,b.value=!0,setTimeout(()=>{b.value=!1},2e3)};return L(()=>{k()}),(a,s)=>(u(),i("div",null,[t("div",F,[t("div",O,[t("h2",null,"第 "+r(m.value+1)+" 关："+r(p[m.value].title),1)]),t("div",j,[t("div",q,[(u(!0),i(x,null,C(d.value,(n,l)=>(u(),i("div",{key:l,class:"maze-row"},[(u(!0),i(x,null,C(n,(c,y)=>(u(),i("div",{key:y,class:E(["maze-cell",{wall:c==="#",start:c==="S",end:c==="E",hero:y===e.value.x&&l===e.value.y}])},[y===e.value.x&&l===e.value.y?(u(),i("div",{key:0,class:"hero-direction",style:M({transform:`rotate(${e.value.direction*90}deg)`})}," ▶ ",4)):z("",!0)],2))),128))]))),128))]),t("div",G,[t("div",H,[t("button",{onClick:s[0]||(s[0]=n=>g("前进")),disabled:o.value},"前进",8,J),t("button",{onClick:s[1]||(s[1]=n=>g("左转")),disabled:o.value},"左转",8,Q),t("button",{onClick:s[2]||(s[2]=n=>g("右转")),disabled:o.value},"右转",8,R)]),t("div",U,[X,t("div",Y,[(u(!0),i(x,null,C(_.value,(n,l)=>(u(),i("div",{key:l,class:"command"},r(l+1)+". "+r(n),1))),128))])]),t("div",A,[t("button",{onClick:k},"重置"),t("button",{onClick:$,disabled:o.value||_.value.length===0}," 运行 ",8,K),t("button",{onClick:s[3]||(s[3]=n=>f.value=!f.value),class:"hint-button"},r(f.value?"隐藏提示":"显示提示"),1)]),f.value?(u(),i("div",W,r(p[m.value].hint),1)):z("",!0)])]),t("div",{class:E(["toast",{show:b.value}])},r(w.value),3)])]))}}),ae=T(ee,[["__scopeId","data-v-35907f40"]]);export{se as __pageData,ae as default};
