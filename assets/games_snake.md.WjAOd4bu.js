import{_ as b,p as o,v as M,c as S,j as l,a as A,t as C,o as D}from"./chunks/framework.MyZ22Llq.js";const F={class:"game-container"},R={class:"score"},O=JSON.parse('{"title":"贪吃蛇","description":"","frontmatter":{},"headers":[],"relativePath":"games/snake.md","filePath":"games/snake.md","lastUpdated":1736921119000}'),B={name:"games/snake.md"},E=Object.assign(B,{setup(I){const t=o(null),s=o(null),a=o([{x:10,y:10}]),i=o({x:15,y:15}),c=o("right"),r=o(null),u=o(0);function g(){s.value=t.value.getContext("2d"),document.addEventListener("keydown",_),d()}function d(){r.value||(r.value=setInterval(k,100))}function k(){s.value.clearRect(0,0,t.value.width,t.value.height),m(),w(),x(),y()}function m(){const e={...a.value[0]};switch(c.value){case"up":e.y--;break;case"down":e.y++;break;case"left":e.x--;break;case"right":e.x++;break}a.value.unshift(e),e.x===i.value.x&&e.y===i.value.y?(u.value+=10,f()):a.value.pop()}function y(){s.value.fillStyle="#4CAF50",a.value.forEach(e=>{s.value.fillRect(e.x*20,e.y*20,18,18)})}function x(){s.value.fillStyle="#FF5252",s.value.fillRect(i.value.x*20,i.value.y*20,18,18)}function f(){i.value={x:Math.floor(Math.random()*(t.value.width/20)),y:Math.floor(Math.random()*(t.value.height/20))}}function _(e){const v={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"}[e.key];if(!v)return;({up:"down",down:"up",left:"right",right:"left"})[v]!==c.value&&(c.value=v)}function w(){const e=a.value[0];(e.x<0||e.x>=t.value.width/20||e.y<0||e.y>=t.value.height/20)&&h();for(let n=1;n<a.value.length;n++)e.x===a.value[n].x&&e.y===a.value[n].y&&h()}function h(){clearInterval(r.value),r.value=null,alert(`游戏结束！得分：${u.value}`),p()}function p(){a.value=[{x:10,y:10}],c.value="right",u.value=0,f()}return M(()=>{g()}),(e,n)=>(D(),S("div",null,[n[0]||(n[0]=l("h1",{id:"贪吃蛇",tabindex:"-1"},[A("贪吃蛇 "),l("a",{class:"header-anchor",href:"#贪吃蛇","aria-label":'Permalink to "贪吃蛇"'},"​")],-1)),l("div",F,[l("div",R,"得分："+C(u.value),1),l("canvas",{ref_key:"canvas",ref:t,width:"600",height:"400",class:"game-canvas"},null,512),l("div",{class:"controls"},[l("button",{onClick:d},"开始游戏"),l("button",{onClick:p},"重新开始")])])]))}}),P=b(E,[["__scopeId","data-v-475410f1"]]);export{O as __pageData,P as default};
