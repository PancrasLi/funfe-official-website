import{_ as $,v as Y,x as j,c as P,j as l,a as H,k as G,e as M,o as w}from"./chunks/framework.CY7y63_A.js";const L={class:"game-container"},U={class:"game-controls"},W={class:"movement-controls"},F=JSON.parse('{"title":"打砖块","description":"","frontmatter":{},"headers":[],"relativePath":"games/breakout.md","filePath":"games/breakout.md","lastUpdated":1736923537000}'),A={name:"games/breakout.md"},J=Object.assign(A,{setup(q){let i,o,r=400,d=300,c=4,n=-4,s=350;const b=100,y=10,u=8,g=5,p=8,v=75,x=20,S=10,I=30,O=95;let f=[],h,m=!1,_=!1;function D(){for(let e=0;e<p;e++){f[e]=[];for(let t=0;t<g;t++)f[e][t]={x:0,y:0,status:1}}}function E(){o.beginPath(),o.arc(r,d,u,0,Math.PI*2),o.fillStyle="#0095DD",o.fill(),o.closePath()}function N(){o.beginPath(),o.rect(s,i.height-y-10,b,y),o.fillStyle="#0095DD",o.fill(),o.closePath()}function R(){for(let e=0;e<p;e++)for(let t=0;t<g;t++)if(f[e][t].status===1){const a=e*(v+S)+O,C=t*(x+S)+I;f[e][t].x=a,f[e][t].y=C,o.beginPath(),o.rect(a,C,v,x),o.fillStyle="#0095DD",o.fill(),o.closePath()}}function T(){for(let e=0;e<p;e++)for(let t=0;t<g;t++){const a=f[e][t];a.status===1&&r>a.x&&r<a.x+v&&d>a.y&&d<a.y+x&&(n=-n,a.status=0)}}function B(){if(o.clearRect(0,0,i.width,i.height),R(),E(),N(),!!m){if(T(),(r+c>i.width-u||r+c<u)&&(c=-c),d+n<u)n=-n;else if(d+n>i.height-u)if(r>s&&r<s+b)n=-n;else{alert("GAME OVER"),clearInterval(h);return}r+=c,d+=n}}function k(e){e==="left"&&s>0?s=Math.max(0,s-20):e==="right"&&s<i.width-b&&(s=Math.min(i.width-b,s+20))}function V(){r=400,d=300,c=4,n=-4,s=350,m=!1,_=!1,D()}function X(){!m&&!h&&(m=!0,h=setInterval(B,10))}return Y(()=>{i=document.getElementById("breakoutGame"),o=i.getContext("2d"),D(),B()}),j(()=>{clearInterval(h)}),(e,t)=>(w(),P("div",null,[t[6]||(t[6]=l("h1",{id:"打砖块",tabindex:"-1"},[H("打砖块 "),l("a",{class:"header-anchor",href:"#打砖块","aria-label":'Permalink to "打砖块"'},"​")],-1)),l("div",L,[t[4]||(t[4]=l("canvas",{id:"breakoutGame",width:"800",height:"600"},null,-1)),l("div",U,[G(m)?M("",!0):(w(),P("button",{key:0,onClick:X},"开始游戏")),G(_)?(w(),P("button",{key:1,onClick:V},"重新开始")):M("",!0),l("div",W,[l("button",{onMousedown:t[0]||(t[0]=a=>k("left")),onTouchstart:t[1]||(t[1]=a=>k("left"))},"←",32),l("button",{onMousedown:t[2]||(t[2]=a=>k("right")),onTouchstart:t[3]||(t[3]=a=>k("right"))},"→",32)])]),t[5]||(t[5]=l("div",{class:"game-instructions"},[l("p",null,"点击开始游戏，使用左右按钮移动挡板接住小球")],-1))])]))}}),K=$(J,[["__scopeId","data-v-5e457308"]]);export{F as __pageData,K as default};
